<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <title>TopCoder SRM 515 - 1000: NewItemShopTwo</title>
    
    <link type="image/x-icon" rel="shortcut icon" href="http://www.topcoder.com/i/favicon.ico"/>
    

    
    <style type="text/css">
        /* font */
body {
    font-family: Helvetica, Arial, Verdana, sans-serif;
    font-size: 16px;
    line-height: 1.2em;
}
ul.constraints > li:before, ul.notes > li:before {
    font-family: monospace;
    font-weight: normal;
}
.heading {
    font-weight: bold;
    font-size: 175%;
    line-height: 1.2em;
}
.section .section-title {
    font-weight: bold;
    font-size: 125%;
}
ol.testcases > li:before {
    font-family: monospace;
}
type {
    font-weight: bold;
    font-family: monospace;
}
li.testcase .data {
    font-family: monospace;
    line-height: 1.5em;
}

/* layout */
.heading {
    margin-top: 0.1em;
    margin-bottom:0.1em;
    text-align: center;
}
.section .section-title {
    margin-top : 1em;
    margin-bottom: 1em;
}
.problem-intro, note, user-constraint {
    padding-left: 1.25em;
}

/* Lists */
ul.constraints, ul.notes, ul.variables, ul.problem-definition-lines {
    list-style-type: none;
    padding: 0px;
}
ul.constraints > li:before {
    content: "-";
    position:relative;
    margin-left: 0px; /* optional, for multiline li element */
    left: 0.625em;
}
ul.notes > li:before {
    content: "-";
    position:relative;
    margin-left: 0px; /* optional, for multiline li element */
    left: 0.625em;
}

/* Testcases */
li.testcase {
    line-height: 1.1em;
    padding-top: 0.625em;
    padding-bottom: 0.625em;
    overflow: auto;
}
li.testcase > .testcase-content > div { padding-bottom: 0.5em; padding-left: 1em; }

li.testcase .testcase-comment {
    margin: 0;
    padding-left: 1em;
}
.testcase-comment p:first-child { margin-top: 0; }
.testcase-comment p:last-child { margin-bottom: 0; }

li.testcase .testcase-content {
    margin: 0.31em;
}

/* Data and variables */
.testcase-output {
    padding: 0.2em 1em 0.2em 0em;
}
.variables, .testcase-output {
    margin-left: 0.5em;
    display: table;
    margin-bottom: 0px;
    margin-top: 0px;
}
.variable {
    display: table-row;
}
.variable .name {
    padding: 0.2em 0em 0.2em 1em;
    font-weight: bold;
    display: table-cell;
    text-align: right;
}
.testcase-output .prefix {
    padding: 0.2em 0em 0.2em 1em;
    display: table-cell;
}
.testcase-output .prefix:after {
    content : ":";
    padding-right: 0.5em;
}
.variable .name:after {
    font-weight: bold;
    content : ":";
    padding-right: 0.5em;
}
.variable .value, .testcase-output .value {
    padding: 0.2em 1em 0.2em 0em;
    display: table-cell;
}
ol.testcases {
    padding: 0px;
    counter-reset: test_number -1;
}
ol.testcases > li {
    list-style:none;
}
ol.testcases > li:before {
    counter-increment:test_number;
    display: block;
    clear: both;
    content:counter(test_number) ")";
    color: inherit;
    background: inherit;
}

/* Problem Definition */
.problem-definition, .problem-limits {
    padding-left: 1.25em;
}
.problem-definition-lines, .limit-lines {
    display: table;
    margin-top: 0px;
    margin-bottom: 0px;
    padding-left: 0px;
}
.definition-line, .limit-line {
    display: table-row;
    height: 1.5em;
    overflow: auto;
}
.limit-name:after {
    content: ":";
    margin-right: 1em;
}
.definition-name, .definition-value, .limit-name, .limit-value {
    display: table-cell;
}
.definition-value {
    padding-left: 0.5em;
}
.definition-name:after {
    content: ":";
}
#contest-division:before {
    content: "Div ";
}
#problem-score:before {
    content: "- Problem ";
}
#problem-name {
    display: block;
}

/* Tags, hidden default */
.tag {
    visibility: hidden;
    position: absolute;
}

        body {
    /* font color */
    color: #CCCCCC;
    /* background color */
    background-color: #333333;
}
.section .section-title {
    /* title color */
    color: white;
}
li.testcase .data {
    /* highlight color */
    background: #303030;
}

    </style>
    
    
    

</head>

<body>
    <h1 class="heading">
        <span id='contest-name'>SRM 515</span>
        <span id='contest-division'>2</span>
        <span id='problem-score'>1000</span>
        <span id='problem-name'>NewItemShopTwo</span>
    </h1>

    <hr />

    <!-- Problem Statement -->
    <div class="section">
        <h2 class="section-title">Problem Statement</h2>
        <div class="problem-intro">
            <intro escaped="1">Lecette is going to open an item shop. 
On the first day, she will sell only one magical sword. 
She will keep the shop open for the whole day, from 00:00 to 23:59. 
<br /><br />
Since the shop is new, Lecette has only two customers so far, and she has a lot of information about them.
The information is given as <type>String[]</type> <b>customers</b> with exactly 2 elements. 
Each element represents a single customer who may come to the shop at some point during the day. 
It is formatted as 
&quot;<i>T</i><sub>1</sub>,<i>C</i><sub>1</sub>,<i>P</i><sub>1</sub>
 <i>T</i><sub>2</sub>,<i>C</i><sub>2</sub>,<i>P</i><sub>2</sub>
 ...
 <i>T</i><sub><i>N</i></sub>,<i>C</i><sub><i>N</i></sub>,<i>P</i><sub><i>N</i></sub>&quot;
 (quotes for clarity), where <i>N</i> is a positive integer. 
An occurrence of three integers <i>T</i><sub><i>j</i></sub>, <i>C</i><sub><i>j</i></sub> and <i>P</i><sub><i>j</i></sub> 
within <b>customers</b>[<i>i</i>] means that the following event will happen with a probability of <i>P</i><sub><i>j</i></sub> percent: 
the <i>i</i>-th customer comes to the shop at <i>T</i><sub><i>j</i></sub> o'clock 
and offers to buy a magical sword at a price of <i>C</i><sub><i>j</i></sub> units of money. 
The same customer never comes to the shop more than once. 
That is, the customer does not come to the shop during the day 
with a probability of 100 - (<i>P</i><sub>1</sub> + <i>P</i><sub>2</sub> + ... + <i>P</i><sub><i>N</i></sub>) percent. 
The values of <i>T</i><sub><i>j</i></sub> are such that at most one customer can come to the shop during each hour of the day 
(see the constraints for further clarification). 
<br /><br />
When a customer comes to the shop, Lecette can choose to either accept or reject the offer. 
Let's define <i>S</i> as the amount of money that Lecette will get for the sword (or 0 if she will not sell it). 
Lecette will act in such a way that maximizes the expected value of <i>S</i>. Return this expected value. 
</intro>
        </div>
    </div>
    
    <!-- Problem definition -->
    
    <div class="section" id="definition">
        <h2 class="section-title">Definition</h2>
        <div class="problem-definition">
            <ul class="problem-definition-lines">
                <li class="definition-line" id='class-line'>
                    <span class='definition-name'>Class</span>
                    <span class='definition-value'>NewItemShopTwo</span>
                </li>
                <li class="definition-line" id='method-line'>
                    <span class='definition-name'>Method</span>
                    <span class='definition-value'>getMaximum</span>
                </li>
                <li class="definition-line" id='parameters-line'>
                    <span class='definition-name'>Parameters</span>
                    <span class='definition-value'>
                    
                        vector&lt;string&gt;
                    
                    </span>
                </li>
                <li class="definition-line" id='returns-line'>
                    <span class='definition-name'>Returns</span>
                    <span class='definition-value'>
                        double
                    </span>
                </li>
                <li class="definition-line" id='signature-line'>
                    <span class='definition-name'>Method signature</span>
                    <span class='definition-value'>
                        double getMaximum(vector&lt;string&gt; customers)
                    </span>
                </li>
            </ul>
            <div class="problem-definition-public-tip">(be sure your method is public)</div>
        </div>        
    </div>
    

    <!-- Limits -->
    <div class="section">
        <h2 class="section-title">Limits</h2>
        <div class='problem-limits'>
            <ul class="limit-lines">
                <li class='limit-line'>
                    <span class='limit-name'>Time limit (s)</span>
                    <span class='limit-value'>2.000</span>
                </li>
                <li class='limit-line'>
                    <span class='limit-name'>Memory limit (MB)</span>
                    <span class='limit-value'>64</span>
                </li>
            </ul>
        </div>
    </div>

    
    <!-- Notes -->
    <div class="section">
        <h2 class="section-title">Notes</h2>
        <ul class="notes">
        
            <li><note escaped="1">The returned value must have an absolute or relative error less than 1e-9. </note></li>
        
        </ul>
    </div>
    
    
    <!-- Constraints -->
    <div class="section">
        <h2 class="section-title">Constraints</h2>
        <ul class="constraints">
        
            <li><user-constraint escaped="1"><b>customers</b> will contain exactly 2 elements. </user-constraint></li>
        
            <li><user-constraint escaped="1">Each element of <b>customers</b> will contain between 5 and 50 characters, inclusive. </user-constraint></li>
        
            <li><user-constraint escaped="1">Each element of <b>customers</b> will be formatted as &quot;<i>T</i><sub>1</sub>,<i>C</i><sub>1</sub>,<i>P</i><sub>1</sub> <i>T</i><sub>2</sub>,<i>C</i><sub>2</sub>,<i>P</i><sub>2</sub> ... <i>T</i><sub><i>N</i></sub>,<i>C</i><sub><i>N</i></sub>,<i>P</i><sub><i>N</i></sub>&quot;, where Each <i>T</i><sub><i>j</i></sub>, <i>C</i><sub><i>j</i></sub> and <i>P</i><sub><i>j</i></sub> will be nonnegative integers without extra leading zeros. </user-constraint></li>
        
            <li><user-constraint escaped="1">Each <i>T</i><sub><i>j</i></sub> will be between 0 and 23, inclusive. </user-constraint></li>
        
            <li><user-constraint escaped="1">Each <i>C</i><sub><i>j</i></sub> will be between 1 and 100, inclusive. </user-constraint></li>
        
            <li><user-constraint escaped="1">Each <i>P</i><sub><i>j</i></sub> will be between 1 and 100, inclusive. </user-constraint></li>
        
            <li><user-constraint escaped="1">For each <i>t</i>, 0 &lt;= <i>t</i> &lt; 24, there will be at most one pair (<i>i</i>, <i>j</i>) such that the value of <i>T</i><sub><i>j</i></sub> in <b>customers</b>[<i>i</i>] is equal to <i>t</i>. </user-constraint></li>
        
            <li><user-constraint escaped="1">In each element of <b>customers</b>, <i>T</i><sub>1</sub> &lt; <i>T</i><sub>2</sub> &lt; ... &lt; <i>T</i><sub><i>N</i></sub> will hold. </user-constraint></li>
        
            <li><user-constraint escaped="1">In each element of <b>customers</b>, <i>P</i><sub>1</sub> + <i>P</i><sub>2</sub> + ... + <i>P</i><sub><i>N</i></sub> will not exceed 100. </user-constraint></li>
        
        </ul>
    </div>

    <!-- Test cases -->
    <div class="section">
        <h2 class="section-title">Test cases</h2>
        <ol class="testcases" start='0'>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">customers</span>
                                <span class="value data">
                                
                                    { &quot;8,1,80 16,100,11&quot;, &quot;12,10,100&quot; }
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            19.0
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment">The optimal strategy is as follows: 
At 08:00, Lecette should not sell the sword even if the first customer comes to the shop. 
At 12:00, the second customer surely comes. Then, 
<ul>
	<li>If the first customer has come at 08:00, she should sell the sword to the second customer. </li>
	<li>Otherwise, she should not sell the sword to the second customer. She should sell it at 16:00 if possible. </li>
</ul>
By this strategy, <i>S</i> will be 10 (80%) or 100 (11%) or 0 (9%).</div>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">customers</span>
                                <span class="value data">
                                
                                    {&quot;8,1,80 16,100,11&quot;,<br />&nbsp;&quot;12,10,90 13,30,5&quot;}
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            19.4
                        
                        </span>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">customers</span>
                                <span class="value data">
                                
                                    { &quot;0,90,25 2,90,25 4,90,25 6,90,25&quot;, &quot;7,100,80&quot; }
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            90.0
                        
                        </span>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">customers</span>
                                <span class="value data">
                                
                                    { &quot;0,90,25 2,90,25 4,90,25 6,90,25&quot;, &quot;7,100,95&quot; }
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            95.0
                        
                        </span>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">customers</span>
                                <span class="value data">
                                
                                    {&quot;0,3,1 2,4,1 4,5,9 6,2,6 8,5,3 10,5,8 12,9,7 14,9,3&quot;,<br />&nbsp;&quot;1,2,3 3,8,4 5,6,2 7,6,4 9,3,3 11,8,3 13,2,7 15,9,5&quot;}
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            3.0692999999999997
                        
                        </span>
                    </div>
                    
               
                </div>
            </li>
            
        </ol>
    </div>
    <hr />

    This problem statement is the exclusive and proprietary property of TopCoder, Inc. Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited. (c)2003, TopCoder, Inc. All rights reserved.
</body>
</html>
